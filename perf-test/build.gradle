group 'io.apptik'

buildscript {
    repositories { jcenter() }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.2'
    }
}

apply plugin: 'java'
apply plugin: 'application'
apply plugin: 'com.github.johnrengelman.shadow'

mainClassName = 'org.openjdk.jmh.Main'
sourceCompatibility = 1.7

repositories {
    mavenCentral()
}

import com.github.jengelman.gradle.plugins.shadow.transformers.ServiceFileTransformer

shadowJar {
    transform(ServiceFileTransformer) {
        //mainClassName 'org.openjdk.jmh.Main'
        exclude 'META-INF/*.SF'
        exclude 'META-INF/*.DSA'
        exclude 'META-INF/*.RSA'
    }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    compile "org.openjdk.jmh:jmh-core:1.11.+"
    compile "org.openjdk.jmh:jmh-generator-annprocess:1.11.+"
    compile "com.squareup.okio:okio:1.6.+"
}
